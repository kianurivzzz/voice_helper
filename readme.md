# Описание голосового помощника VoiceHelper v0.2 BETA

Голосовой помощник Алекс – это интеллектуальный ассистент с голосовым управлением, который постоянно совершенствуется. В этой версии добавлены новые функции и улучшена работа существующих.

## Содержание:

1. [Функционал](#функционал)
2. [Для запуска потребуется](#для-запуска-потребуется)
3. [Библиотеки](#библиотеки)
4. [Языковые пакеты](#языковые-пакеты-для-vosk)
5. [Настройка API ключей](#настройка-api-ключей)

## Функционал

### Основные возможности:

- **Погода**:
  - Автоматическое определение местоположения по IP
  - Сохранение предыдущих запросов местоположения
  - Прогноз погоды на несколько дней вперед
  - Подробная информация о погоде. Температура, ощущаемая температура, влажность, скорость ветра

- **Новости**:
  - Получение последних новостей
  - Фильтрация новостей по категориям. Сспорт, бизнес, технологии и др.

- **Время и дата**:
  - Сообщение текущего времени

- **Браузер и медиа**:
  - Открытие браузера
  - Поиск фильмов и сериалов
  - Открытие YouTube

- **Развлечения**:
  - Рассказывание анекдотов
  - Запуск игр. Требуется указать путь к .exe файлу

- **Управление системой**:
  - Выключение и перезагрузка компьютера
  - Завершение работы помощника

- **Общение**:
  - Контекстные диалоги
  - Ответы на вопросы о себе
  - Поддержка непрерывного диалога без повторного обращения по имени

### Технические улучшения:

- Улучшенное распознавание речи с использованием косинусного сходства
- Логирование для отладки
- Обработка ошибок и исключений
- Возможность прерывания длинных ответов
- Индикация активного слушания

## Для запуска потребуется:

1. Python версии 3.8 и выше*
2. Набор библиотек, см. ниже
3. Языковой пакет для Vosk
4. API ключи для сервисов погоды и новостей

<font size = 1> *Программа тестировалась на Python 3.10.4 </font>

## Библиотеки:

- [vosk](https://alphacephei.com/vosk/) - для распознавания речи
  - [vosk PyPi](https://pypi.org/project/vosk/)
  - [vosk GitHub](https://github.com/alphacep/vosk-api)
- [sounddevice](https://pypi.org/project/sounddevice/) - для работы с аудио
- [pyttsx3](https://pypi.org/project/pyttsx3/) - для синтеза речи
- [requests](https://pypi.org/project/requests/) - для HTTP запросов
- [scikit-learn](https://scikit-learn.org/stable/) - для машинного обучения
  - [sklearn PyPi](https://pypi.org/project/scikit-learn/)
- [numpy](https://numpy.org/) - для математических операций
- [pathlib](https://docs.python.org/3/library/pathlib.html) - для работы с путями файлов

## Языковые пакеты для Vosk:

Перед запуском обязательно скачайте и распакуйте языковой пакет в папку с программой.

- [Полный языковой пакет vosk (вес 1.5Gb)](https://alphacephei.com/vosk/models/vosk-model-ru-0.22.zip)
- [Упрощённый языковой пакет vosk (вес 40 Mb)](https://alphacephei.com/vosk/models/vosk-model-small-ru-0.22.zip)

## Настройка API ключей:

Для полноценной работы помощника необходимо настроить API ключи:

1. **OpenWeather API**:
   - Зарегистрируйтесь на сайте [openweathermap.org](https://openweathermap.org/)
   - В разделе "My API keys" скопируйте ваш токен
   - Добавьте его в файл `.env` как `OPENWEATHER_API_KEY=ваш_токен`

2. **News API** (для функции новостей):
   - Зарегистрируйтесь на сайте [newsapi.org](https://newsapi.org/)
   - Получите API ключ
   - Добавьте его в файл `.env` как `NEWS_API_KEY=ваш_ключ`

## Использование:

1. Установите все необходимые библиотеки: `pip install -r requirements.txt`
2. Скачайте и распакуйте языковой пакет Vosk в папку `small_model`
3. Настройте API ключи в файле `.env`
4. Запустите программу: `python main.py`
5. Обращайтесь к помощнику по имени "Алекс" и задавайте вопросы или давайте команды

## Структура проекта:

- `main.py` - основной файл программы
- `tasks.py` - файл с функциями, которые может выполнять помощник
- `voice.py` - файл с функциями для озвучивания текста
- `words.py` - файл с набором слов и фраз для распознавания
- `.env` - файл с переменными окружения (API ключи)
- `requirements.txt` - файл с зависимостями
- `small_model/` - папка с языковым пакетом Vosk
- `logs/` - папка для хранения логов
- `data/` - папка для хранения данных (местоположения и др.)

## Примеры команд:

- "Алекс, какая погода?"
- "Алекс, погода на завтра"
- "Алекс, расскажи новости"
- "Алекс, новости спорта"
- "Алекс, сколько времени?"
- "Алекс, открой браузер"
- "Алекс, расскажи анекдот"
- "Алекс, что ты умеешь?"
